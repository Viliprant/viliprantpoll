<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Polls</title>
</head>
<body>
    <main id="main">
        <h1>Polls</h1>
    </main>

<script src="//unpkg.com/@feathersjs/client@^4.3.0/dist/feathers.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
    <script type="text/javascript">
        // Set up socket.io
        const socket = io('http://localhost:3030');
        // Initialize a Feathers app
        const app = feathers();
        
        // Register socket.io to talk to our server
        app.configure(feathers.socketio(socket));

        const test = app.service('polls').create({
            title: 'test',
            questions: [
                {name: 'Question1'},
                {name: 'Question2'},
                {name: 'Question3'},
            ],
        })
        // .then((data) => {
        //     data.questions['Question1'] = 1;
        //     app.service('polls').update(data.id, data);
        // })


        // Form submission handler that sends a new message
        // async function sendMessage () {
        //   const messageInput = document.getElementById('message-text');

        //   messageInput.value = '';
        // }
        
        // const main = async () => {
        //   // Find all existing messages
        //   const messages = await app.service('messages').find();

        //   // Add existing messages to the list
        //   messages.forEach(addMessage);

        //   // Add any newly created message to the list in real-time
        //   app.service('messages').on('created', addMessage);
        // };

        // main();
    </script>
</body>
</html>
